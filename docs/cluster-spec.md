---
title: Cluster Specs
order: 20
---

A *cluster spec* describes how to build and deploy a Taskcluster release.

A cluster spec is represented either as a directory containing several `.yml` files, or as a JSON object.
The contents are the same, but the `.yml` format is intended to be human-editable.

# build.yml

The `build.yml` file (or, in a JSON blob, the `build` property) contains:

* `services` -- an array of objects describing the services that must be built to generate a release; each has
  * `name` -- the service name (without a `taskcluster-` prefix)
  * `source` -- the source for the service, in `gitRepo#ref` format
  * `exactSource` -- (generated by build process) similar to `source`, but with a commit sha1 as the reference
  * `dockerImage` -- (generated by build process) the docker image containing this service

* `docsSources` -- an array of objects describing repositories from which to pull reference docs (aside from services); each has
  * `name` -- the project name
  * `tier` -- the [documentation tier](https://github.com/taskcluster/taskcluster-lib-docs#options-and-defaults)
  * `menuIndex` -- (optional) index for this documentation in the docs view
  * `source` -- the source for the project, in `gitRepo#ref` format
  * `exactSource` -- (generated by build process) similar to `source`, but with a commit sha1 as the reference

# deploy.yml

The `deploy.yml` file (or, in a JSON blob, the `deploy` property) contains a JSON-e expresison which will evaluate to object with properties:

* `resources` -- an array of objects describing Kubernetes resources to create; each should have at least `name`, `kind`, and `apiVersion`.

The deploy process will perform the JSON-e rendering, then write each resource out for consumption by kubectl.
